# 🎄 크리스마스 프로모션 🎄
> ⁜ **우아한테크코스 2024 프리코스 4주차 미션**
>
> 🌼 _Implemented by_ `yummygyudon` (**정동규**)

## 📝 Summary
> **이메일 형식**의 기능 요구 사항
> 
> 필요한 요구사항과 배경지식은 이메일 내용에 전부 담겨있으니,<br/>
> 꼼꼼하게 확인하고 필요하다면 주어진 문제의 내용을 통해 유추하고 스스로 판단해 구현한다.
> 
> [이메일 전문](/README.md#-기능-요구-사항)

#### ⁜ 메뉴
```text
<애피타이저>
양송이수프(6,000), 타파스(5,500), 시저샐러드(8,000)

<메인>
티본스테이크(55,000), 바비큐립(54,000), 해산물파스타(35,000), 크리스마스파스타(25,000)

<디저트>
초코케이크(15,000), 아이스크림(5,000)

<음료>
제로콜라(3,000), 레드와인(60,000), 샴페인(25,000)
```


#### ⁜ 이벤트 목표 Keyword
- **중복 할인** & **증정**
- "**올해 12월 판매금액**" : 지난 5년 중 최고 판매 금액 달성
- "**올해 12월 이벤트 참여고객**" : **5%** 가 **내년 1월 새해 이벤트**에 재참여

#### ⁜ 12월 이벤트 계획 Keyword
- 크리스마스 **디데이 할인**
    - 이벤트 **기간** : `2023.12.01` ~ `2023.12.25`
    - 내용
      - "**1,000원"으로 시작**하여 크리스마스가 다가올수록 "**날마나**" 할인 금액 **100원씩 증가**
      - **총 주문 금액에서 해당 금액만큼** 할인<br/>(ex._시작일인 12월 01일은 1,000원, 12월 02일은 1,100원, ..., 25일엔 3,400원_)


- 이벤트 **기간** : (크리스마스 **디데이 할인 제외**) `2023.12.01` ~ `2023.12.31`
- **평일**(일요일 ~ 목요일) 할인
  - **"디저트"** 메뉴 
  - 개당 **2,023원** 할인
- **주말**(금요일 ~ 토요일) 할인
  - **"메인"** 메뉴 
  - 개당 **2,023원** 할인
- 특별 할인
  - 이벤트 달력에 별이 있으면 **"총 주문 금액"에서 1,000원 할인**
  - 별(⭐️)있는 날짜 : `12.03`, `12.10`, `12.17`, `12.24`, `12.25`, `12.31` (총 6개의 날)
- **증정 이벤트** : **"할인 전" 총 주문 금액**이 **12만원(120,000 원) 이상**일 때, **"샴페인 1개"** 증정


#### ⁜ 혜택 금액에 따른 이벤트 배지 부여 Keyword
- [ ] 총 혜택 금액에 따라 다른 이벤트 배지 부여
  - [ ] 5,000 이상 : 별
  - [ ] 10.000 이상 : 트리
  - [ ] 20,000 이상 : 산타

#### ⁜ 안내할 이벤트 주의 사항
- 총주문 금액 10,000원 이상부터 이벤트가 적용됩니다.
- 음료만 주문 시, 주문할 수 없습니다.
- 메뉴는 한 번에 최대 20개까지만 주문할 수 있습니다.<br/> (e.g. 시저샐러드-1, 티본스테이크-1, 크리스마스파스타-1, 제로콜라-3, 아이스크림-1의 총개수는 7개)

---
## 🛠 Feature List
### 🗓 12월 이벤트 플래너 기능
> 고객들로부터 방문 날짜와 메뉴를 미리 선택 받고 아래 내용들을 출력해줍니다.
- [ ] 주문 메뉴
- [ ] 할인 전 총 주문 금액
- [ ] 증정 메뉴
- [ ] 혜택 내역
- [ ] 총 혜택 금액
- [ ] 할인 후 예상 결제 금액
- [ ] 이벤트 배지

<br/>

### 💬 입력 
- [x] `12월 중 식당 예상 방문 날짜`를 입력받는다.
  - [x] Message : `12월 중 식당 예상 방문 날짜는 언제인가요? (숫자만 입력해 주세요!)`
  - [x] 1 이상 31 이하의 숫자로만 입력받는다.
    - [x] 아닌 경우, `[ERROR] 유효하지 않은 날짜입니다. 다시 입력해 주세요.`라는 에러 메시지를 보여준다.

<br/>

- [x] `주문할 메뉴와 개수`를 입력받는다.
  - [x] Message : `주문하실 메뉴를 메뉴와 개수를 알려 주세요. (e.g. 해산물파스타-2,레드와인-1,초코케이크-1)` 
  - [x] `(메뉴명)-(개수)` 형식으로 입력받는다.
  - [x] 메뉴가 여러개일 경우 `,`로 구분하여 입력받는다
    - [x] 아닌 경우, `[ERROR] 유효하지 않은 날짜입니다. 다시 입력해 주세요.`라는 에러 메시지를 보여준다.
  - [x] 각 메뉴 개수는 1이상의 숫자만 입력받는다
    - [x] 아닌 경우, `[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요.`라는 에러 메시지를 보여준다.
  - [x] 중복 메뉴를 입력받을 수 없다.
    - [x] 아닌 경우, `[ERROR] 유효하지 않은 날짜입니다. 다시 입력해 주세요.`라는 에러 메시지를 보여준다.
  - [x] 음료만 입력받을 수 없다.
    - [x] 아닌 경우, `[ERROR] 유효하지 않은 날짜입니다. 다시 입력해 주세요.`라는 에러 메시지를 보여준다.

<br/>

### 🖨 출력 기능
- [ ] `주문 내역` 를 출력한다.
  - [ ] 각 메뉴와 주문 개수에 대해 `(메뉴명) (개수)개`의 형식으로 출력한다.
  - [ ] 순서는 자유롭게 출력한다.
  - [ ] 형식
    ```text
    <주문 메뉴>
    티본스테이크 1개
    바비큐립 1개
    초코케이크 2개
    제로콜라 1개

    <주문 메뉴>
    타파스 1개
    제로콜라 1개
    ```

- [ ] `할인 전 총 주문 금액` 를 출력한다.
  - [ ] 전체 주문 내역에 대해 총 주문 금액을 출력한다.
  - [ ] 형식
    ```text
    <할인 전 총주문 금액>
    142,000원
    
    <할인 전 총주문 금액>
    8,500원
    ```

- [ ] `증정 메뉴` 를 출력한다.
  - [ ] 증정 이벤트에 해당하지 않는 경우, 증정 메뉴 `없음`으로 출력한다.
  - [ ] 형식
    ```text
    <증정 메뉴>
    샴페인 1개
    
    <증정 메뉴>
    없음
    ```

- [ ] `혜택 내역` 를 출력한다.
  - [ ] 고객에게 적용된 혜택/이벤트 내역만 출력한다.
  - [ ] 적용된 혜택/이벤트가 하나도 없다면 혜택 내역 `없음`으로 출력한다.
  - [ ] 여러 개의 혜택/이벤트가 적용된 경우, 출력 순서는 자유롭게 출력한다.
  - [ ] 형식
    ```text
    <혜택 내역>
    크리스마스 디데이 할인: -1,200원
    평일 할인: -4,046원
    특별 할인: -1,000원
    증정 이벤트: -25,000원
    
    <혜택 내역>
    없음
    ```

- [ ] `총혜택 금액` 를 출력한다.
  - [ ] 총 혜택 금액은 "할인 금액의 합계 + **증정 메뉴의 가격**" 이다.
  - [ ] 형식
    ```text
    <총혜택 금액>
    -31,246원
    
    <총혜택 금액>
    0원
    ```

- [ ] `할인 후 예상 결제 금액` 를 출력한다.
  - [ ] 1000원 단위로 쉼표(`,`)로 구분한다.
  - [ ] 할인 후 예상 결제 금액은 "할인 전 총주문 금액 - 할인 금액" 이다.
    - [ ] 증점 이벤트 혜택은 결제 금액 할인에 포함되지 않는다. 
  - [ ] 형식
    ```text
    <할인 후 예상 결제 금액>
    135,754원
    
    <할인 후 예상 결제 금액>
    8,500원
    ```

- [ ] `12월 이벤트 배지` 를 출력한다.
  - [ ] 이벤트 배지가 부여되지 않는 경우, `없음`으로 출력한다.
  - [ ] 형식
    ```text
    <12월 이벤트 배지>
    산타
    
    <12월 이벤트 배지>
    없음
    ```

<br/>

> "12월 이벤트 플래너" 입출력 예시
```
안녕하세요! 우테코 식당 12월 이벤트 플래너입니다.
12월 중 식당 예상 방문 날짜는 언제인가요? (숫자만 입력해 주세요!)
3
주문하실 메뉴를 메뉴와 개수를 알려 주세요. (e.g. 해산물파스타-2,레드와인-1,초코케이크-1)
티본스테이크-1,바비큐립-1,초코케이크-2,제로콜라-1
12월 3일에 우테코 식당에서 받을 이벤트 혜택 미리 보기!
 
<주문 메뉴>
티본스테이크 1개
바비큐립 1개
초코케이크 2개
제로콜라 1개
 
<할인 전 총주문 금액>
142,000원
 
<증정 메뉴>
샴페인 1개
 
<혜택 내역>
크리스마스 디데이 할인: -1,200원
평일 할인: -4,046원
특별 할인: -1,000원
증정 이벤트: -25,000원
 
<총혜택 금액>
-31,246원
 
<할인 후 예상 결제 금액>
135,754원
 
<12월 이벤트 배지>
산타
```
<br/>

### 기타
- [ ] 이벤트 혜택 내역을 출력한 후, 게임이 종료된다.
- [ ] 게임을 종료한 후 게임을 다시 시작하는 기능은 없으며 완전히 종료된다.


<br/>
<br/>

---
## 🚨 Exception Situation 🚨
> 모든 에러 메시지는 `[ERROR]`로 시작하도록 한다.
### 1️⃣ 12월 중 식당 예상 방문 날짜 입력
#### Case 1. 잘못된 날짜를 입력했을 때 : _Domain 예외_
- 1보다 작은 수를 입력했을 때
    - ex. ``, ``, ``, ``

- 31보다 큰 수를 입력했을 때

#### Case 2. 정수가 아닌 숫자를 입력했을 때
- 소수를 입력했을 때
- 너무나 긴 정수를 입력했을 때
- 음수를 입력했을 때

#### Case 3. 숫자가 아닌 다른 문자(한글, 영어, 특수기호)를 입력했을 때


<br/>

### 2️⃣ 주문 메뉴 및 개수 입력
#### Case 1. 잘못된 형식으로 입력했을 때
- 잘못된 구분자를 사용할 때
    - ex. `티본스테이크-1,바비큐립-1,초코케이크-2,제로콜라-1`, `티본스테이크-1,바비큐립-1,초코케이크-2,제로콜라-1`, `티본스테이크-1,바비큐립-1,초코케이크-2,제로콜라-1`, `티본스테이크-1,바비큐립-1,초코케이크-2,제로콜라-1`

- 잘못된 메뉴 및 개수 입력 형식으로 입력할 때
    - ex. `티본스테이크-1,바비큐립-1,초코케이크-2,제로콜라-1`, `티본스테이크-1,바비큐립-1,초코케이크-2,제로콜라-1`, `티본스테이크-1,바비큐립-1,초코케이크-2,제로콜라-1`, `티본스테이크-1,바비큐립-1,초코케이크-2,제로콜라-1`

#### Case 2. 존재하지 않는 메뉴를 입력했을 때 : _Domain 예외_

#### Case 3. 중복되는 메뉴를 입력했을 때 : _Domain 예외_

#### Case 4. 총 메뉴 개수가 20개를 초과할 때 : _Domain 예외_

#### Case 5. 주문 메뉴 중 0개를 주문하는 경우가 있을 때 : _Domain 예외_

#### Case 6. 음료만 주문했을 경우 : _Domain 예외_

<br/>

### 3️⃣ 공통
#### ⁜ 빈 값 입력


<br/>
<br/>

---
## ✅ Check Before Submit
### 🔥미션 제출
- [x] Repository 를 private 으로 생성한 다음 `woowa-course`를 Collaborator 로 등록했는가
- [x] 다른 브랜치가 아닌 `main`에 Commit 했는가
- [ ] 미션 제출을 올바르게 했는가
  - PR 링크가 아닌 Private 레포지토리 링크를 입력해야함.

### 🚀 기능 구현
- [ ] 주어진 기능 요구사항에 맞게 기능이 처리되는가
- [ ] 주어진 예외 처리 요구사항에 맞게 예외를 처리하는가
- [ ] 변수 이름에 자료형을 사용하지 않았는가

### 🎯 프로그래밍 요구 사항
> 기능 구현을 **모두 정상적으로 했더라도** 요구 사항에 명시된 출력값 형식을 지키지 않을 경우 0점으로 처리한다.
#### (1) 준수 여부
- [x] 기능을 구현하기 전, `docs/README.md`에 구현 기능 목록을 정리해 추가했는가
- [ ] Java 코드 컨벤션 가이드를 준수했는가
    - [ ] 블럭 들여쓰기를 **+4 스페이스** 간격으로 했는가
    - [ ] 들여쓰기 단계는 블록 전체의 코드와 주석 모두에 적용했는가
    - [ ] 120자 열 제한을 준수했는가
    - [ ] 코드 지속을 위한 들여쓰기에 최소 원래 줄에서 +8 이상 들여썼는가
- [ ] `ApplicationTest`의 테스트를 모두 통과했는가
  - [ ]  <u>UI를 제외한</u> 도메인 로직에 대한 단위 테스트를 구현했는가
- [ ] `3항 연산자`를 사용하지 않았는가
- [ ] 함수/메서드의 길이가 **15라인**을 넘어가지 않았는가
  - [ ] 함수/메서드가 **한 가지 일만 하도록** 구현했는가 
- [ ] `else` 예약어를 사용하지 않았는가
- [ ] `switch/case` 를 사용하지 않았는가
- [ ] 핵심 로직을 구현하는 코드와 UI를 담당하는 로직을 분리했는가


- [ ] 요구사항에 명시된 출력값 형식을 지켰는가
- [x] "사용자가 잘못된 값을 입력"할 경우, **에러 메시지**를 출력 후 **그 부분부터 입력을 다시 받도록** 했는가
  - [x] `IllegalArgumentException`를 발생시켰는가
  - [x] 단순 `Exception`으로 처리하진 않았는가
- [x] `camp.nextstep.edu.missionutils`에서 제공하는 `Console API`를 사용하여 구현했는가

- [ ] 아래 `InputView` / `OutputView`를 참고 및 활용하여 입출력 클래스를 구현했는가
  - [x] 입력과 출력을 담당하는 클래스를 별도로 구현했는가 
  - `InputView`
    - ```java
      public class InputView {
            public int readDate() {
                System.out.println("12월 중 식당 예상 방문 날짜는 언제인가요? (숫자만 입력해 주세요!)");
                String input = Console.readLine();    
                // ...
            }
            // ...
      }
      ```
  - `OutputView`
    - ```java
      public class OutputView {
            public void printMenu() {
                System.out.println("<주문 메뉴>");   
                // ...
            }
            // ...
      }
      ``` 


#### (2) 사용 제한
- [x] `System.exit()`을 통한 종료를 하지 않았는가
- [x] 외부 라이브러리를 사용하지는 않았는가

<br/>
<br/>

---
## 🚀 개인 목표
1. 계층 간의 정보를 메시지로만 주고 받도록 설계하기 
- 해당 계층에서만 알아야하는 정보는 외부로 노출시키지 않는다

<br/>

2. 접근제어자를 최대한 활용하여 안전한 캡슐화 제고하기

<br/>

3. 객체에서 Getter 보다는 "행동"을 수행하도록 설계하기

